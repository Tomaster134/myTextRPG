{%extends 'base.html'%} {%block title%} Chat Room {%endblock%} {%block style%}
room.css {%endblock%} {%block content%}
<div class="room-box">
  <h2 class="room-header">Narnia</h2>
  <div class="message-box">
    <div class="messages" id="messages"></div>
    <form class="input" id="input-form">
      <input
        type="text"
        rows="2"
        name="message"
        id="message"
        placeholder="Type here!"
      />
      <button id="send-btn">
        Send
      </button>
    </form>
  </div>
</div>
{%include './includes/flash.html'%}
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"
  integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA=="
  crossorigin="anonymous"
></script>
<script src="../static/js/room.js"></script>
{%for msg in messages%} {%if msg.type == 'message'%}
<script>
  createMessage("{{msg.username}}", "{{msg.message}}");
</script>
{%elif msg.type == 'status'%}
<script>
  createStatus("{{msg.username}}", "{{msg.message}}");
</script>
{%endif%} {%endfor%}
{%endblock%}
